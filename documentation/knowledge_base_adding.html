---
layout: post
title: ROSPlan documentation, planner
---
<!DOCTYPE html>
<html lang="en-us">
	<head>
		<meta charset="UTF-8">
		<title>ROSPlan by KCL-Planning</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="../stylesheets/normalize.css" media="screen">
		<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" type="text/css" href="../stylesheets/stylesheet.css" media="screen">
		<link rel="stylesheet" type="text/css" href="../stylesheets/github-light.css" media="screen">
		<link rel="stylesheet" type="text/css" href="../stylesheets/syntax.css" media="screen">
		<script src="../jquery.js"></script> 
		<script> 
		$(function(){
		  $("#includedContent").load("../templates/nav-main.html"); 
		  $("#includedSideBar").load("../templates/nav-sidebar.html"); 
		});
		</script>
	</head>
	<body>
    	<div id="includedContent"></div>

		<section class="main-content">

	    	<div id="includedSideBar"></div>
			<section class="documentation-content">

			<h2>Adding to the Knowledge Base</h2>

			<h4>Contents:</h4>
			<ul>
			<li><a href="#c">clear_knowledge_base</a></li>
			<li><a href="#u">update_knowledge_base</a></li>
			<li><a href="#ua">update_knowledge_base_array</a></li>
			</ul>
			<p>Fetching grounded information from the Knowledge Base uses the <em>KnowledgeItem</em> descibed in [[using the KMS]].</p>

<a id="c"></a>
<h4>Clear knowledge base</h4>
<p>Topic: <em>/kcl_rosplan/clear_knowledge_base</em>
<br/>Message: <em>std_srvs/Empty</em></p>
<p>Deletes the whole grounded problem instance from the Knowledge Base. Does not affect the domain model.</p>

<a id="u"></a>
<h4>Update knowledge base</h4>
<p>Topic: <em>/kcl_rosplan/update_knowledge_base</em>
<br/>Message: <em>rosplan_knowledge_msgs/KnowledgeUpdateService</em></p>
{% highlight python linenos=table %}
uint8 ADD_KNOWLEDGE=0
uint8 ADD_GOAL=1
uint8 REMOVE_KNOWLEDGE=2
uint8 REMOVE_GOAL=3
uint8 update_type
rosplan_knowledge_msgs/KnowledgeItem knowledge
---
bool success
{% endhighlight %}
<p>Adding information to the Knowledge Base, using the <em>KnowledgeItem</em> descibed in [[using the KMS]].</p>
<p><strong>update_type</strong><br/>Determines whether the update is adding or removing elements from the knowledge base, and whether a goal or current state estimate is to be added to or removed from the Knowledge Base.</p>
<p><strong>knowledge</strong><br/>The knowledge message to add or remove.</p>
<p>It is possible to leave fields blank in the knowledge item. This has the effect of matching multiple items in the knowledge base.</p>
<ul>
<li>Leaving the instance name field blank will match all instances of the stated PDDL type.</li>
<li>Leaving an attribute name blank will match all propositions or functions with the same parameters.</li>
<li>Leaving a parameter value blank will match all propositions or functions that match the remaining parameters.</li>
</ul>
<p>For example:</p>
<blockquote><pre>
update_type: 2
knowledge:
- knowledge_type: 1
  instance_type: ""
  instance_name: ""
  attribute_name: "robot_at"
  values
  - key: "v", value: "robot_name"
  - key: "wp", value: ""
  function_value: 0
  is_negative: false
</pre></blockquote>
<p>The update request above will remove "robot_at" propositions from the knowledge base. As the "wp" parameter of the proposition is left blank, it will remove all "robot_at" propositions for which the rest of the parameters match. For example:
<br/>(robot_at robot_name wp0)
<br/>(robot_at robot_name wp4)
<br/>(robot_at robot_name wp6)
<br/>will all be removed.</p>

<a id="ua"></a>
<h4>Update knowledge base array</h4>
<p>Topic: <em>/kcl_rosplan/update_knowledge_base_array</em>
<br/>Message: <em>rosplan_knowledge_msgs/KnowledgeUpdateServiceArray</em></p>
{% highlight python linenos=table %}
uint8 ADD_KNOWLEDGE=0
uint8 ADD_GOAL=1
uint8 REMOVE_KNOWLEDGE=2
uint8 REMOVE_GOAL=3
uint8 update_type
rosplan_knowledge_msgs/KnowledgeItem knowledge[]
---
bool success
{% endhighlight %}
<p>Adding information to the Knowledge Base, using the <em>KnowledgeItem</em> descibed in [[using the KMS]]. This service behaves in the same was as the singular <em>update_knowledge_base</em> service. However, an array of knowledge items is used.</p>
			</section>

			<footer class="site-footer">
				<span class="site-footer-owner"><a href="https://github.com/KCL-Planning/ROSPlan">ROSPlan</a> is maintained by <a href="https://github.com/KCL-Planning">KCL-Planning</a>.</span>
				<span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
			</footer>

		</section>


	</body>
</html>
